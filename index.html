<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ceradon Architect Stack</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --gate-bg: #0f1117;
      --gate-card: #161924;
      --gate-border: rgba(255, 255, 255, 0.08);
      --gate-text: #e8ecf3;
      --gate-subtle: #a7afc3;
      --gate-accent: #4da3ff;
    }

    #access-gate {
      display: none;
      min-height: 100vh;
      background: var(--gate-bg);
      color: var(--gate-text);
      font-family: system-ui, -apple-system, "Inter", sans-serif;
      padding: 48px 16px;
      box-sizing: border-box;
    }

    body.app-locked #access-gate {
      display: flex;
      position: fixed;
      inset: 0;
      overflow-y: auto;
      z-index: 20;
    }

    body:not(.app-locked) #access-gate {
      display: none;
    }

    #app-root {
      transition: filter 160ms ease, opacity 160ms ease;
    }

    body.app-locked #app-root {
      filter: blur(4px) grayscale(0.4);
      opacity: 0.65;
      pointer-events: none;
      user-select: none;
    }

    .gate-stack {
      max-width: 560px;
      margin: 0 auto;
      display: grid;
      gap: 16px;
    }

    .gate-shell {
      max-width: 560px;
      margin: 0 auto;
      background: var(--gate-card);
      border: 1px solid var(--gate-border);
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
    }

    .gate-shell h1 {
      margin: 0 0 12px;
      font-size: clamp(24px, 4vw, 30px);
      line-height: 1.25;
    }

    .gate-shell p {
      margin: 0 0 20px;
      color: var(--gate-subtle);
      line-height: 1.5;
    }

    .gate-form {
      display: grid;
      gap: 12px;
    }

    .gate-form label {
      font-weight: 600;
      color: var(--gate-text);
    }

    .gate-form input {
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--gate-border);
      background: #0c0e15;
      color: var(--gate-text);
      font-size: 16px;
    }

    .gate-form button {
      padding: 12px 16px;
      border: none;
      border-radius: 10px;
      background: var(--gate-accent);
      color: #0b0e17;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: transform 120ms ease, box-shadow 120ms ease;
    }

    .gate-form button:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 24px rgba(77, 163, 255, 0.25);
    }

    .gate-form button:active {
      transform: translateY(0);
      box-shadow: none;
    }

    .error-message {
      color: #f77b7b;
      font-size: 14px;
      display: none;
    }
  </style>
</head>
<body>
  <div id="access-gate" aria-live="polite">
    <div class="gate-stack">
      <div class="gate-shell" role="dialog" aria-labelledby="gateTitle" aria-describedby="gateDescription">
        <h1 id="gateTitle">Ceradon Systems â€” Architect Stack demos</h1>
        <p id="gateDescription">Enter your demo access code to unlock the Architect Stack hub and launch tools in one place.</p>
        <div class="gate-form">
          <label for="demo-code">Access code</label>
          <input id="demo-code" type="password" autocomplete="off" inputmode="numeric" aria-describedby="demo-error">
          <button id="demo-enter" type="button">Enter</button>
          <div id="demo-error" class="error-message" role="alert">Invalid code.</div>
        </div>
      </div>

      <div class="gate-shell" aria-labelledby="requestTitle" aria-describedby="requestDescription">
        <h2 id="requestTitle">Request a demo code</h2>
        <p id="requestDescription">
          Ceradon Systems provides controlled access to <strong>Architect Stack demos</strong> for qualified organizations.
          Request a code to explore the live planners and see how they fit your mission profiles.
        </p>
        <div class="demo-request-actions">
          <a
            id="demo-request-button"
            class="btn primary demo-request-btn"
            href="mailto:contact@ceradonsystems.com?subject=Demo%20code%20request%20%E2%80%93%20Ceradon%20Architect%20Stack&body=Hi%20Ceradon%20team,%0D%0A%0D%0AI%27d%20like%20to%20request%20a%20demo%20access%20code%20for%20the%20Architect%20Stack.%0D%0A%0D%0AOrganization:%20%0D%0AUse%20case:%20%0D%0ATimeline:%20%0D%0A%0D%0AThank%20you.">
            Request a demo code
          </a>

          <p class="demo-request-email">
            Or email us at
            <a href="mailto:contact@ceradonsystems.com?subject=Demo%20code%20request%20%E2%80%93%20Ceradon%20Architect%20Stack">contact@ceradonsystems.com</a>
            with your organization and use case.
          </p>
        </div>
      </div>
    </div>
  </div>

  <div id="app-root">
    <header class="top-nav">
      <div class="brand">
        <div class="logo-dot" aria-hidden="true"></div>
        <span class="wordmark">Ceradon Architect</span>
      </div>
      <nav aria-label="Primary">
        <ul class="nav-links">
          <li><a href="/#/home" data-route="home">Home</a></li>
          <li><a href="/#/workflow" data-route="workflow">Workflow</a></li>
          <li><a href="/#/tools" data-route="tools">Tools</a></li>
          <li><a href="/#/mission" data-route="mission">Mission Architect</a></li>
          <li><a href="/#/demos" data-route="demos">Demos</a></li>
          <li><a href="/#/docs" data-route="docs">Docs</a></li>
        </ul>
      </nav>
      <button class="toggle" id="themeToggle" aria-label="Toggle light or dark theme">ðŸŒ™</button>
    </header>

    <div class="version-strip" aria-label="Application version and schema version">
      <span class="pill" id="appVersionBadge" data-app-version></span>
      <span class="pill subtle" id="schemaHeaderBadge" data-schema-version></span>
      <span class="pill success" id="accessBanner" hidden></span>
    </div>

    <div class="context-bar" role="note">
      <p class="small">Small UAS / mesh / EW / sustainment planning tool for contested environments. Architect keeps mission intent, RF realities, and sustainment in one MissionProject JSON.</p>
    </div>

    <main id="app" class="view-container">
    <section id="home" class="view" aria-label="Home view">
      <div class="hero">
        <div>
          <p class="eyebrow">Ceradon Systems | Architect Stack</p>
          <h1>Architect Stack â€“ authoritative hub and planner chain</h1>
          <p class="lead">Offline-first planners for nodes, UxS, meshes, sustainment, and mission cards. The hub keeps the MissionProject schema authoritative so field teams can move plans without rework or external services.</p>
          <div class="hero-actions">
            <a class="btn primary" href="/#/workflow">Explore Workflow</a>
            <a class="btn ghost" href="/#/tools">Launch Tools</a>
          </div>
          <p class="small muted">Access-code gated demos run in-browser. No external APIs or vendor lock-in.</p>
        </div>
      </div>

      <div class="modules-workflows" aria-label="Modules and workflows overview">
        <div class="mw-card">
          <h3>Modules</h3>
          <p class="small muted">One MissionProject JSON feeds every planner.</p>
          <ul class="bullet-list modules-list">
            <li><strong>Mission Architect:</strong> Mission composition, constraints, AO geometry, and exports.</li>
            <li><strong>Node Architect:</strong> Sensor nodes, payload stacking, and RF/power envelopes.</li>
            <li><strong>UxS Architect:</strong> Platform pairing, lift margins, and sortie timing.</li>
            <li><strong>Mesh Architect:</strong> Mesh links, relays, RF bands, and EW-aware coverage.</li>
            <li><strong>KitSmith:</strong> Kits, sustainment, power plans, and team loadouts.</li>
          </ul>
        </div>
        <div class="mw-card">
          <h3>Workflows</h3>
          <p class="small muted">Mission-first, kit-first, or RF-first chains match <a href="docs/stack_workflows.md" target="_blank" rel="noopener">stack_workflows.md</a>.</p>
          <ul class="bullet-list">
            <li><strong>Mission-first:</strong> Mission Architect â†’ Node Architect â†’ UxS Architect â†’ Mesh Architect â†’ KitSmith.</li>
            <li><strong>Kit/sustainment-first:</strong> KitSmith â†’ Mission Architect â†’ Node Architect â†’ UxS Architect â†’ Mesh Architect.</li>
            <li><strong>RF-first:</strong> Mesh Architect â†’ Mission Architect â†’ Node Architect â†’ UxS Architect â†’ KitSmith.</li>
          </ul>
          <p class="small muted">Launch modules from the Tools view or embedded workflow below. All paths preserve the same MissionProject schema.</p>
        </div>
      </div>

      <div class="missionproject-callout" aria-label="MissionProject JSON overview">
        <h3>MissionProject exchange file</h3>
        <p class="small">All Architect tools exchange the same <code>MissionProject</code> JSON. Top-level keys stay consistent so planners can hand off between mission, RF, and sustainment without retyping.</p>
        <pre class="code-snippet"><code>{
  "mission": { "tasks": [], "phases": [], "assignments": [] },
  "environment": [{ "id": "env-main", "altitudeBand": "0-600m", "temperatureBand": "5-25C" }],
  "constraints": [],
  "nodes": [],
  "platforms": [],
  "mesh_links": [],
  "kits": []
}</code></pre>
        <p class="small">Schema details live in <a href="docs/mission_project_schema.md" target="_blank" rel="noopener">docs/mission_project_schema.md</a>. Imports preserve unknown keys to stay compatible across tools.</p>
      </div>

      <div class="schema-info">
        <div class="schema-card">
          <div class="schema-header">
            <div>
              <p class="eyebrow">Schema authority</p>
              <h3>MissionProject schema v2.0.0</h3>
              <p class="small" id="schemaVersionDetail">Schema matches the hub reference.</p>
            </div>
            <span class="schema-badge" id="schemaVersionBadge">2.0.0</span>
          </div>
          <p class="small">This hub is the single source of truth for MissionProject. Downstream tools preserve unknown fields and honor <code>schemaVersion</code> when round-tripping.</p>
          <ul class="schema-roles">
            <li><strong>Node Architect:</strong> nodes, RF/power envelopes, environment constraints.</li>
            <li><strong>UxS Architect:</strong> platforms, payload lift/endurance, platform metrics.</li>
            <li><strong>Mesh Architect:</strong> mesh_links, rf_bands, ew_profile, link redundancy.</li>
            <li><strong>KitSmith:</strong> kits, sustainment, power_plan, packing_lists, load limits.</li>
            <li><strong>Mission Architect:</strong> mission, phases, assignments, mission_cards, exports.</li>
          </ul>
          <p class="small">Docs: <a href="docs/mission_project_schema.md" target="_blank" rel="noopener">MissionProject schema</a> Â· <a href="docs/stack_workflows.md" target="_blank" rel="noopener">Stack workflows</a></p>
          <div class="schema-warning" id="schemaWarning" hidden></div>
        </div>
      </div>

      <div class="status-widgets" id="missionProjectHealth" aria-live="polite">
        <div class="widget-heading">
          <p class="eyebrow">MissionProject status</p>
          <h3>Schema + validation check</h3>
        </div>
        <div class="widget-grid">
          <div class="widget-tile">
            <p class="small muted">Loaded schemaVersion</p>
            <strong id="healthSchemaVersion">2.0.0</strong>
            <p class="small">Defaults to v2.0.0 when absent.</p>
          </div>
          <div class="widget-tile" id="healthValidationTile">
            <p class="small muted">Validation</p>
            <strong id="healthValidationStatus">Checkingâ€¦</strong>
            <p class="small" id="healthValidationDetail">Validating required fields.</p>
          </div>
        </div>
      </div>

      <div class="compliance-card" aria-label="Module compliance summary">
        <div>
          <p class="eyebrow">Module compliance</p>
          <h3>Who owns which MissionProject sections</h3>
          <p class="small muted">Each tool targets MissionProject schemaVersion 2.0.0. Preserve unknown fields and keep schemaVersion tagged for downstream integrity.</p>
        </div>
        <div class="compliance-grid">
          <div class="compliance-item">
            <strong>Node Architect</strong>
            <p class="small">Populates <code>nodes[]</code>, RF/power envelopes, and can annotate <code>environment</code> plus <code>constraints</code> with RF realities.</p>
          </div>
          <div class="compliance-item">
            <strong>UxS Architect</strong>
            <p class="small">Fills <code>platforms[]</code>, lift/endurance metrics, sortie timing, and keeps <code>nodes</code> paired to rides.</p>
          </div>
          <div class="compliance-item">
            <strong>Mesh Architect</strong>
            <p class="small">Owns <code>mesh_links[]</code>, <code>rf_bands</code>, EW context, and link redundancy across contested paths.</p>
          </div>
          <div class="compliance-item">
            <strong>KitSmith</strong>
            <p class="small">Maintains <code>kits[]</code>, <code>sustainment</code>, <code>power_plan</code>, <code>packing_lists</code>, and <code>kitsSummary</code> weight limits.</p>
          </div>
          <div class="compliance-item">
            <strong>Mission Architect</strong>
            <p class="small">Defines <code>mission</code>, <code>phases</code>, <code>assignments</code>, AO constraints, <code>mission_cards</code>, and <code>exports</code>.</p>
          </div>
        </div>
      </div>

      <div class="missionproject-status" id="missionProjectStatusPanel" aria-live="polite">
        <div class="status-body">
          <p class="eyebrow">MissionProject status</p>
          <h3 id="statusProjectName">No project loaded</h3>
          <p class="small" id="statusProjectMeta">No MissionProject loaded. Use the demo payload to start.</p>
          <div class="status-meta-grid">
            <div>
              <p class="small muted">Schema</p>
              <strong id="statusSchemaVersion">v2.0.0</strong>
            </div>
            <div>
              <p class="small muted">Source</p>
              <strong id="statusProjectSource">Not loaded</strong>
            </div>
            <div>
              <p class="small muted">Last updated</p>
              <strong id="statusLastUpdated">Not set</strong>
            </div>
          </div>
        </div>
        <div class="status-actions" id="statusActions">
          <button class="btn primary" id="homeLoadDemo" data-default-label="Load demo project">Load demo project</button>
          <button class="btn ghost" id="homeImportProject">Import MissionProject JSON</button>
          <button class="btn subtle" id="homeClearProject">Clear</button>
          <input type="file" id="homeImportProjectFile" accept="application/json" hidden>
        </div>
      </div>

    </section>
    <section id="workflow" class="view" aria-label="Workflow view" hidden>
      <div class="section-header">
        <div>
          <p class="eyebrow">Mission Workflow</p>
          <h2>One dashboard, four modules. Move missions without leaving the shell.</h2>
          <p class="lead">Stay on a single page to embed platform, mesh, mission, and kit planners. Update module status, keep a shared mission project JSON in localStorage, and export/import as you go.</p>
          <p class="small muted demo-note">Demo requests stay here and on CeradonSystems.com. Embedded planners load directly without in-iframe request prompts.</p>
        </div>
      </div>

      <div class="demo-banner" id="workflowAccessBanner" hidden>Demo only â€” neutral COTS sample data, no real missions.</div>

      <div class="workflow-guard" id="workflowGuard" data-guarded="true">
        <div class="workflow-overlay" id="workflowAccessOverlay">
          <div>
            <h3>Demo access required</h3>
            <p class="small muted">Enter the access code to unlock embedded planners and MissionProject edits.</p>
            <p class="small subtle" id="plannerLockedNotice">Planner is locked until a valid access code is entered.</p>
          </div>
        </div>

        <div class="workflow-dashboard">
          <aside class="module-sidebar" id="moduleSidebar" aria-label="Workflow module navigation"></aside>

          <div class="workflow-main">
            <div class="module-panel">
              <div class="module-panel-header">
                <div>
                  <p class="eyebrow" id="moduleCategory">Module</p>
                  <h3 id="moduleTitle">Platform Designer (Node + UxS)</h3>
                  <p class="small" id="moduleDescription"></p>
                </div>
                <div class="status-control">
                  <label for="moduleStatus">Status</label>
                  <select id="moduleStatus" aria-label="Module status selector">
                    <option value="Not Started">Not Started</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Complete">Complete</option>
                  </select>
                </div>
              </div>

              <div class="module-links" id="moduleLinks"></div>
              <div class="embed-container" id="moduleEmbed"></div>
            </div>

            <div class="project-layout">
              <div class="card project-card">
                <h3>Mission project</h3>
                <p class="small">Edit the shared mission project JSON that every module reads and writes. Values persist locally under <code>ceradon_mission_project</code>.</p>

                <form class="project-form" id="projectMetaForm">
                  <div class="form-grid">
                    <label>Mission name
                      <input type="text" id="missionName" name="missionName" autocomplete="off">
                    </label>
                    <label>Environment â€“ altitude band
                      <select id="altitudeBand" name="altitudeBand">
                        <option value="0-1000m">0-1000m</option>
                        <option value="1000-2500m">1000-2500m</option>
                        <option value=">2500m">&gt;2500m</option>
                      </select>
                    </label>
                    <label>Environment â€“ temperature band
                      <select id="temperatureBand" name="temperatureBand">
                        <option value="10-25C">10-25Â°C</option>
                        <option value="-10-10C">-10 to 10Â°C</option>
                        <option value="25-40C">25-40Â°C</option>
                      </select>
                    </label>
                    <label>Duration (hours)
                      <select id="durationHours" name="durationHours">
                        <option value="24">24</option>
                        <option value="48">48</option>
                        <option value="72">72</option>
                      </select>
                    </label>
                    <label>Inventory catalog reference
                      <input type="text" id="inventoryReference" name="inventoryReference" autocomplete="off">
                    </label>
                    <label>Planned sustainment hours
                      <input type="number" id="sustainmentHours" name="sustainmentHours" min="0" step="1">
                    </label>
                    <label>Per-person kit load (kg)
                      <input type="number" id="perPersonLoad" name="perPersonLoad" min="0" step="0.5">
                    </label>
                    <label>Per-person weight limit (kg)
                      <input type="number" id="perPersonLimit" name="perPersonLimit" min="0" step="0.5">
                    </label>
                    <label>Comms relay count
                      <input type="number" id="relayCount" name="relayCount" min="0" step="1">
                    </label>
                    <label>Critical links
                      <input type="number" id="criticalLinks" name="criticalLinks" min="0" step="1">
                    </label>
                  </div>
                </form>

                <div class="project-actions">
                  <div class="project-alert" id="projectAlert" role="status" aria-live="polite" hidden></div>
                  <div class="action-row">
                    <button class="btn primary" id="exportProject">Export MissionProject JSON</button>
                    <button class="btn ghost" id="importProject">Import MissionProject JSON</button>
                    <input type="file" id="importProjectFile" accept="application/json" hidden>
                    <button class="btn subtle" id="exportGeo">Export GeoJSON</button>
                    <button class="btn subtle" id="exportCoT">Export CoT Stub</button>
                  </div>
          <div class="action-row">
            <button class="btn primary" id="loadDemoProject" data-default-label="Load demo project">Load demo project</button>
            <button class="btn ghost" id="runWhitefrostDemo" data-default-label="Run the WHITEFROST demo">Run the WHITEFROST demo</button>
            <p class="small" id="projectStatus" aria-live="polite"></p>
          </div>
        </div>
      </div>

              <div class="card editor-card" aria-label="MissionProject viewer and editor">
                <div class="editor-header">
                  <div>
                    <h3>MissionProject viewer / editor</h3>
                    <p class="small">Inspect, validate, and apply MissionProject JSON. Validation checks against <code>schema/mission_project_schema_v2.json</code>.</p>
                  </div>
                </div>
                <div class="summary-panel">
                  <p class="eyebrow">Quick summary</p>
                  <ul class="summary-list" id="projectSummaryList"></ul>
                </div>
                <label class="small" for="projectJsonEditor">JSON payload</label>
                <textarea id="projectJsonEditor" class="json-editor" rows="14" aria-label="MissionProject JSON editor"></textarea>
                <div class="editor-actions">
                  <button class="btn subtle" id="validateProjectJson">Validate JSON</button>
                  <button class="btn primary" id="applyProjectJson">Apply to workspace</button>
                  <a class="btn ghost" href="schema/mission_project_schema_v2.json" target="_blank" rel="noopener">Open schema file</a>
                </div>
                <ul class="editor-status" id="projectJsonErrors"></ul>
              </div>

              <div class="card feasibility-card">
                <div class="feasibility-header">
                  <h3>Mission Feasibility</h3>
                  <p class="small">Reads from the stored project JSON. Color cues flag sustainment, weight, and comms coverage gaps.</p>
                </div>
                <div class="feasibility-items" id="feasibilityItems"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="tools" class="view" aria-label="Tools view" hidden>
      <div class="section-header">
        <p class="eyebrow">Tool hub</p>
        <h2>All Architect modules, one launchpad</h2>
        <p class="lead">Open live demos, check roles, and jump to the right planner without retracing steps.</p>
      </div>
      <div class="tool-grid" id="toolGrid" aria-live="polite"></div>
    </section>

    <section id="mission" class="view" aria-label="Mission Architect view" hidden>
      <div class="section-header">
        <p class="eyebrow">Mission-first entry</p>
        <h2>Mission Architect â€“ drive the stack from the mission down</h2>
        <p class="lead">Compose phases, AO constraints, timelines, and outputs that downstream tools consume. This hub links directly to the existing Mission Architect app.</p>
        <div class="mission-actions">
          <a class="btn primary" href="https://mission.ceradonsystems.com/" target="_blank" rel="noopener">Open Mission Architect</a>
          <a class="btn ghost" href="/#/workflow">See integrated workflow</a>
        </div>
      </div>
      <div class="mission-layout">
        <div class="card">
          <h3>How Mission Architect fits</h3>
          <ul class="bullet-list">
            <li><strong>Outputs â†’ Node Architect:</strong> Convert mission phases into node packages per leg.</li>
            <li><strong>Outputs â†’ UxS Architect:</strong> Match nodes to UxS platforms with loadouts tied to phases.</li>
            <li><strong>Outputs â†’ Mesh Architect:</strong> Use AO, altitudes, and RF constraints to shape relays and backhaul.</li>
            <li><strong>Outputs â†’ KitSmith:</strong> Turn teams, timelines, and resupply plans into kits and sustainment loads.</li>
          </ul>
          <div class="sample-flow">
            <h4>Sample mission flow</h4>
            <p>Start with recon-in-force across two phases. Build the mission in Mission Architect, export the spec, then:</p>
            <ol>
              <li>Push node requirements to Node Architect for sensor stack and power checks.</li>
              <li>Send approved nodes to UxS Architect for platform pairing and sortie planning.</li>
              <li>Feed AO geometry into Mesh Architect for RF coverage and relay placement.</li>
              <li>Package sustainment in KitSmith aligned to each phase and team role.</li>
            </ol>
            <div class="quick-links">
              <a class="btn subtle" href="https://node.ceradonsystems.com/web/index.html" target="_blank" rel="noopener">Open Node Architect</a>
              <a class="btn subtle" href="https://uxs.ceradonsystems.com/web/" target="_blank" rel="noopener">Open UxS Architect</a>
              <a class="btn subtle" href="https://mesh.ceradonsystems.com/" target="_blank" rel="noopener">Open Mesh Architect</a>
              <a class="btn subtle" href="https://kitsmith.ceradonsystems.com/" target="_blank" rel="noopener">Open KitSmith</a>
            </div>
            <div class="quick-links">
              <a class="btn ghost" href="https://mission.ceradonsystems.com/print.html" target="_blank" rel="noopener">Mission Architect print view</a>
              <a class="btn ghost" href="https://kitsmith.ceradonsystems.com/print.html" target="_blank" rel="noopener">KitSmith print view</a>
            </div>
          </div>
        </div>
        <div class="embed-card">
          <h3>Live preview</h3>
          <p class="small">Embedded view loads the existing Mission Architect app. If it does not load, use the primary button above.</p>
          <div class="embed-container">
            <iframe title="Mission Architect" src="https://mission.ceradonsystems.com/" loading="lazy"></iframe>
          </div>
        </div>
      </div>
    </section>

    <section id="demos" class="view" aria-label="Demos view" hidden>
      <div class="section-header">
        <p class="eyebrow">Integrated demo stories</p>
        <h2>See the stack in action</h2>
        <p class="lead">Pre-baked walkthroughs show how missions, nodes, meshes, and kits move together.</p>
      </div>
      <div class="demo-grid" id="demoGrid" aria-live="polite"></div>
    </section>

    <section id="docs" class="view" aria-label="Docs view" hidden>
      <div class="section-header">
        <p class="eyebrow">Docs & About</p>
        <h2>What is Ceradon Architect Stack?</h2>
        <p class="lead">Architect is the planning layer between COTS UxS/robotics and the logistics/C2 stack. It keeps mission intent, RF realities, and sustainment in lockstep.</p>
        <p class="small muted">Docs: <a href="docs/mission_project_schema.md" target="_blank" rel="noopener">MissionProject schema</a> Â· <a href="docs/stack_workflows.md" target="_blank" rel="noopener">Stack workflows</a> Â· <a href="https://ceradonsystems.com" target="_blank" rel="noopener">CeradonSystems.com</a></p>
      </div>
      <div class="docs-layout">
        <div class="card">
          <h3>Modules</h3>
          <ul class="bullet-list">
            <li><strong>Mission Architect:</strong> Mission composition, constraints, AO geometry.</li>
            <li><strong>Node Architect:</strong> Sensor nodes, payload stacking, power budgets.</li>
            <li><strong>UxS Architect:</strong> Platform selection, loadouts, and sortie timing.</li>
            <li><strong>Mesh Architect:</strong> RF backhaul, relays, gateways, spectrum assumptions.</li>
            <li><strong>KitSmith:</strong> Sustainment kits, spares, and team packaging.</li>
          </ul>
        </div>
        <div class="card">
          <h3>How it fits Ceradon</h3>
          <p>Architect is a neutral, COTS-focused planning layer that stays offline-first and access-code gated. Each module exports the same MissionProject JSON so teams can move between tools without rebuilding data.</p>
          <p>For more, visit <a href="https://ceradonsystems.com" target="_blank" rel="noopener">CeradonSystems.com</a>.</p>
          <p class="small">This site is static and GitHub Pagesâ€“ready. Edit theme tokens in <code>assets/css/styles.css</code>, update routes in <code>assets/js/app.js</code>, and add tools or demos via the data structures near the top of <code>app.js</code>.</p>
        </div>
        <div class="card">
          <h3>MissionProject + TAK exports</h3>
          <p>MissionProject JSON schema is documented in <a href="docs/mission_project_schema.md" target="_blank" rel="noopener">docs/mission_project_schema.md</a>. ATAK/Tactical-App export notes live in <a href="docs/atak_exports.md" target="_blank" rel="noopener">docs/atak_exports.md</a>.</p>
          <p class="small">All entities are tagged with <code>origin_tool</code> to ease cross-Architect imports. Exports remain offline-first and require no external APIs.</p>
        </div>
        <div class="card">
          <h3>How to use this with the other tools</h3>
          <ul class="bullet-list">
            <li><strong>Import/export:</strong> Each planner reads the same MissionProject JSON and should preserve unknown keys.</li>
            <li><strong>Data flow:</strong> Start mission-first, kit-first, or RF-firstâ€”see <a href="docs/stack_workflows.md" target="_blank" rel="noopener">stack_workflows.md</a> for chains.</li>
            <li><strong>Schema fidelity:</strong> Watch the schema badge for version mismatches and validate JSON before applying.</li>
            <li><strong>Live tools:</strong> Launchers below route to the latest live endpoints for each module.</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <section class="change-log-section" aria-label="Change log">
    <details>
      <summary>Change Log</summary>
      <div id="changeLogEntries" class="change-log"></div>
    </details>
  </section>

  <footer class="site-footer">
    <div class="footer-links">
      <a href="https://ceradonsystems.com" target="_blank" rel="noopener">CeradonSystems.com</a>
      <a href="https://node.ceradonsystems.com/web/index.html" target="_blank" rel="noopener">Node Architect</a>
      <a href="https://uxs.ceradonsystems.com/web/" target="_blank" rel="noopener">UxS Architect</a>
      <a href="https://mesh.ceradonsystems.com/" target="_blank" rel="noopener">Mesh Architect</a>
      <a href="https://kitsmith.ceradonsystems.com/" target="_blank" rel="noopener">KitSmith</a>
      <a href="https://mission.ceradonsystems.com/" target="_blank" rel="noopener">Mission Architect</a>
    </div>
    <div class="footer-meta">
      <span data-app-version></span>
      <span class="divider">â€¢</span>
      <span data-schema-version></span>
    </div>
    <p class="small">Ceradon Systems LLC â€“ COTS-friendly RF and UxS planning tools.</p>
  </footer>
  </div>

  <script src="assets/js/mission_project.js"></script>
  <script src="assets/js/app.js"></script>
  <script>
    (() => {
      const ACCESS_CODE = window.DEMO_ACCESS_CODE || "ARC-STACK-761";
      const STORAGE_KEY = window.DEMO_ACCESS_KEY || "ceradon_demo_code";
      const gate = document.getElementById("access-gate");
      const appRoot = document.getElementById("app-root");
      const input = document.getElementById("demo-code");
      const submit = document.getElementById("demo-enter");
      const error = document.getElementById("demo-error");

      const accessBanner = document.getElementById("accessBanner");

      function renderAccessBanner(code) {
        if (!accessBanner) return;
        if (!code) {
          accessBanner.hidden = true;
          accessBanner.textContent = '';
          return;
        }
        accessBanner.textContent = `Active demo code: ${code}`;
        accessBanner.hidden = false;
      }

      function setLocked(isLocked, activeCode) {
        document.body.classList.toggle("app-locked", isLocked);
        renderAccessBanner(isLocked ? '' : activeCode);
        if (!isLocked && error) {
          error.style.display = "none";
          error.textContent = '';
        }
      }

      function handleAuth() {
        const value = (input?.value || "").trim();
        if (value === ACCESS_CODE) {
          localStorage.setItem(STORAGE_KEY, ACCESS_CODE);
          setLocked(false, ACCESS_CODE);
          window.dispatchEvent(new Event("ceradon-demo-authorized"));
        } else {
          if (error) {
            error.style.display = "block";
            error.textContent = 'Invalid code.';
          }
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        const storedValue = localStorage.getItem(STORAGE_KEY);
        const authorized = storedValue === ACCESS_CODE || storedValue === "true";
        setLocked(!authorized, authorized ? ACCESS_CODE : '');

        window.applyWorkflowGuard?.();

        submit?.addEventListener("click", handleAuth);
        input?.addEventListener("keydown", (event) => {
          if (event.key === "Enter") {
            event.preventDefault();
            handleAuth();
          }
        });
      });
    })();
  </script>
</body>
</html>
